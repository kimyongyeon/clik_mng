<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//iBATIS.com//DTD SQL Map 2.0//EN" "http://www.ibatis.com/dtd/sql-map-2.dtd">

<sqlMap namespace="MdmManage">
	<typeAlias  alias="mdmPolicyInfoVO" 	type="clikmng.nanet.go.kr.mdm.model.MdmPolicyInfoVO"/>
	<typeAlias  alias="mdmPolicyInfoFileVO" type="clikmng.nanet.go.kr.mdm.model.MdmPolicyInfoFileVO"/>
	<typeAlias  alias="mdmSearchVO" 		type="clikmng.nanet.go.kr.mdm.model.MdmSearchVO"/>
	<typeAlias  alias="mdmRegionNewsVO" 	type="clikmng.nanet.go.kr.mdm.model.MdmRegionNewsVO"/>
	<typeAlias  alias="mdmIsViewVO" 	    type="clikmng.nanet.go.kr.mdm.model.MdmIsViewVO"/>
	<typeAlias  alias="mdmOutSiteVO" 	    type="clikmng.nanet.go.kr.mdm.model.MdmOutSiteVO"/>
	<typeAlias  alias="mdmOutSeedVO" 	    type="clikmng.nanet.go.kr.mdm.model.MdmOutSeedVO"/>
	<typeAlias  alias="mdmOutDocTypeVO"	    type="clikmng.nanet.go.kr.mdm.model.MdmOutDocTypeVO"/>
	
	<resultMap class="clikmng.nanet.go.kr.mdm.model.MdmFileVO" id="outbbsEmFileCmmn">
		<result property="atchFileId"    column="DOWNID" />
		<result property="orignlFileNm"  column="FILE_NM" />
		<result property="fileStreCours" column="DOWNPATH" />
		<result property="streFileNm" 	 column="DOC_CNVR_PDF_PATH" />
		<result property="fileSn" 		 column="DOC_CNVR_STTU_CODE" />
		<result property="fileCn" 		 column="DOC_CNVR_RESULT_MSSAGE" />
		<result property="fileExtsn" 	 column="FILEEXT" />
	</resultMap>

    <select id="MdmEduManualDAO.selectMdmEduManualSeq" resultClass="int">
        <![CDATA[
			SELECT 
				SEQ_OUTBBS.NEXTVAL AS SEQ 
			FROM 
				DUAL
		]]>
    </select>

    <select id="MdmEduManualDAO.selectMdmEduManualFileSeq" resultClass="String">
        <![CDATA[
			SELECT 
				SEQ_IF_DOWNLOAD.NEXTVAL AS SEQ 
			FROM 
				DUAL
		]]>
    </select>
<!-- 사용안함 -->
    <select id="MdmEduManualDAO.selectMdmEduManualMaxRegDate" parameterClass="string" resultClass="string">
        <![CDATA[
			SELECT 
				MAX(REGDATE) AS REGDATE 
			FROM 
				webrobot_contents 
			WHERE
				DOCTYPE = '140'
				AND REGDATE <= #TODAY# || '999999'
		]]>
    </select>
<!-- 사용안함 -->
    <select id="MdmEduManualDAO.selectMdmEduManualDfltListTotCnt" parameterClass="mdmSearchVO" resultClass="int">
        <![CDATA[
			SELECT 
				COUNT(*) AS CNT 
			FROM 
				webrobot_contents 
			WHERE
				DOCTYPE = '140'
				]]>
				<isNotEmpty prepend="AND" property="schDt1">				  
					<![CDATA[ REGDATE >= REPLACE(#schDt1#, '-', '') || '000000' ]]>
				</isNotEmpty>
				<isNotEmpty prepend="AND" property="schDt2">				  
					<![CDATA[ REGDATE <= REPLACE(#schDt2#, '-', '') || '999999' ]]>
				</isNotEmpty>
    </select>
<!-- 사용안함 -->
    <select id="MdmEduManualDAO.selectMdmEduManualDfltList" parameterClass="mdmSearchVO" resultClass="mdmPolicyInfoVO">
        <![CDATA[
        	SELECT 
        		M.* 
        	FROM 
        	(
        		SELECT 
        			ROWNUM AS RNUM, A.*
        		FROM 
        		( 
        			SELECT 
        				B.OUTBBS_CN, B.EXTID, B.DOCTYPE, B.SITEID, B.TITLE, B.CDATE, B.REGDATE, B.CUD_CODE
	                    ,B.ISVIEW, B.DUPLICATION, DY.DOCTYPE_NAME AS SITENM, ST.SITENM AS SEEDNM
                        ,( SELECT COUNT(*) AS CNT FROM webrobot_attach WHERE OUTBBS_CN = B.OUTBBS_CN AND CUD_CODE != 'D' ) FILECNT 
                        ,( SELECT COUNT(*) AS CNT FROM webrobot_attach WHERE OUTBBS_CN = B.OUTBBS_CN AND (DOC_CNVR_STTU_CODE = '1' OR DOC_CNVR_STTU_CODE = '3') AND CUD_CODE != 'D' ) FILESUCCCNT 
                        ,( SELECT COUNT(*) AS CNT FROM webrobot_attach WHERE OUTBBS_CN = B.OUTBBS_CN AND DOC_CNVR_STTU_CODE = '2' AND CUD_CODE != 'D' ) FILEFLRCNT 
                        ,( 
                        	SELECT 
                        		COUNT(*) AS CNT 
                        	FROM 
                        		webrobot_contents 
                        	WHERE 
	                			DUPLICATION = B.DUPLICATION 
	                			AND CUD_CODE != 'D'
	                			]]>
								<isNotEmpty prepend="AND" property="schDt1">				  
									<![CDATA[ REGDATE >= REPLACE(#schDt1#, '-', '') || '000000' ]]>
								</isNotEmpty>
								<isNotEmpty prepend="AND" property="schDt2">				  
									<![CDATA[ REGDATE <= REPLACE(#schDt2#, '-', '') || '999999' ]]>
								</isNotEmpty>
	                			
	                	) DUPCNT
					FROM 
	                	webrobot_contents B, OUTDOCTYPE DY, webrobot_site ST
	                WHERE 
	                	B.DOCTYPE = '140'
	                	AND B.DOCTYPE = DY.DOCTYPE(+)
	                	AND B.SITEID = ST.SITEID(+)
	                	<isNotEmpty prepend="AND" property="schDt1">				  
							<![CDATA[ B.REGDATE >= REPLACE(#schDt1#, '-', '') || '000000' ]]>
						</isNotEmpty>
						<isNotEmpty prepend="AND" property="schDt2">				  
							<![CDATA[ B.REGDATE <= REPLACE(#schDt2#, '-', '') || '999999' ]]>
						</isNotEmpty>
				        <![CDATA[
 	                	ORDER BY B.REGDATE DESC 
	            ) A
	        ) M
	        WHERE 
	        	RNUM > #firstRecord#
				AND RNUM <= #lastRecord#
		]]>
    </select>


	<!-- 교육메뉴얼 카운트를 조회한다 -->
    <select id="MdmEduManualDAO.selectMdmEduManualListTotCnt" parameterClass="mdmSearchVO" resultClass="int">
        <![CDATA[
			SELECT 
				COUNT(*) AS CNT 
			FROM 
				webrobot_contents B
			WHERE
				DOCTYPE = '140'
				]]>
				
				<isNotEmpty property="schDtConditionOperators">
				AND (
					<!-- 수집일자 -->
					<isNotEmpty property="schDt1">
						<![CDATA[ ( B.REGDATE >= REPLACE(#schDt1#, '-', '') || 000000 AND ]]>
					</isNotEmpty>
					<isEmpty property="schDt1">
					    <isNotEmpty property="schDt2">
						( 1=1 AND
						</isNotEmpty>
					</isEmpty>
					    
					<isNotEmpty property="schDt2">
						<![CDATA[ B.REGDATE <= REPLACE(#schDt2#, '-', '') || 235959 ) ]]>
					</isNotEmpty>
					<isEmpty property="schDt2">
					    <isNotEmpty property="schDt1">
						1=1 )
						</isNotEmpty>
					</isEmpty> 
					
					<isEqual property="schDtConditionOperators" compareValue="Y">
					    OR
					</isEqual>
					
					<!-- 등록일자 -->
					<isNotEmpty property="schDt3">
						<![CDATA[ ( REPLACE(B.CDATE,'/','') >= REPLACE(#schDt3#, '-', '') || '000000' AND ]]>
					</isNotEmpty>
					<isEmpty property="schDt3">
					    <isNotEmpty property="schDt4">
						( 1=1 AND
						</isNotEmpty>
					</isEmpty>
					
					<isNotEmpty property="schDt4">
						<![CDATA[ REPLACE(B.CDATE,'/','') <= REPLACE(#schDt4#, '-', '') || '235959' )]]>
					</isNotEmpty>
					<isEmpty property="schDt4">
					    <isNotEmpty property="schDt3">
						1=1 )
						</isNotEmpty>
					</isEmpty>
				)
				</isNotEmpty>
				
				<isNotEmpty prepend="AND" property="cnId">				  
					<![CDATA[ OUTBBS_CN LIKE #cnId# || '%' ]]>
				</isNotEmpty>
				<isNotEmpty prepend="AND" property="schDuplication">	
				<![CDATA[			  				
				B.DUPLICATION IN (															
					SELECT 																		
						DUPLICATION																
					FROM 																		
						webrobot_contents 														
					WHERE																		
			        	DOCTYPE = '140'														
						AND CUD_CODE != 'D'														
			    ]]>																		
						<isNotEmpty property="schDtConditionOperators">
						AND (
						<!-- 수집일자 -->
						<isNotEmpty property="schDt1">
							<![CDATA[ ( REGDATE >= REPLACE(#schDt1#, '-', '') || 000000 AND ]]>
						</isNotEmpty>
						<isEmpty property="schDt1">
						    <isNotEmpty property="schDt2">
							( 1=1 AND
							</isNotEmpty>
						</isEmpty>
						    
						<isNotEmpty property="schDt2">
							<![CDATA[ REGDATE <= REPLACE(#schDt2#, '-', '') || 235959 ) ]]>
						</isNotEmpty>
						<isEmpty property="schDt2">
						    <isNotEmpty property="schDt1">
							1=1 )
							</isNotEmpty>
						</isEmpty> 
						
						<isEqual property="schDtConditionOperators" compareValue="Y">
						    OR
						</isEqual>
						
						<!-- 등록일자 -->
						<isNotEmpty property="schDt3">
							<![CDATA[ ( REPLACE(CDATE,'/','') >= REPLACE(#schDt3#, '-', '') || '000000' AND ]]>
						</isNotEmpty>
						<isEmpty property="schDt3">
						    <isNotEmpty property="schDt4">
							( 1=1 AND
							</isNotEmpty>
						</isEmpty>
						
						<isNotEmpty property="schDt4">
							<![CDATA[ REPLACE(CDATE,'/','') <= REPLACE(#schDt4#, '-', '') || '235959' )]]>
						</isNotEmpty>
						<isEmpty property="schDt4">
						    <isNotEmpty property="schDt3">
							1=1 )
							</isNotEmpty>
						</isEmpty>
					)
					</isNotEmpty>
					
					GROUP BY																	
						DUPLICATION 															
						<isEqual property="schDuplication" compareValue="Y">					
							<![CDATA[ HAVING COUNT(DUPLICATION) > 1 ]]>							
						</isEqual>																
						<isEqual property="schDuplication" compareValue="N">					
							<![CDATA[ HAVING COUNT(DUPLICATION) < 2 ]]>							
						</isEqual>																
				)	
				</isNotEmpty>

				<isNotEmpty prepend="AND" property="schDocType">				  
				    DOCTYPE = #schDocType#
				</isNotEmpty>
				<isNotEmpty prepend="AND" property="schIsView">				  
				    ISVIEW = #schIsView#
				</isNotEmpty>
				<isNotEmpty prepend="AND" property="schDel">
					<isEqual property="schDel" compareValue="D">
					    CUD_CODE = 'D'
					</isEqual>
					<isEqual property="schDel" compareValue="Y">
					    CUD_CODE != 'D'
					</isEqual>
				</isNotEmpty>
				<isNotEmpty prepend="AND" property="schRegion">				  
				    REGION = #schRegion#
				</isNotEmpty>
				<isNotEmpty prepend="AND" property="schSiteId">
				    SITEID = #schSiteId#
				</isNotEmpty>
				<isNotEmpty prepend="AND" property="schSeedId">
				    SEEDID = #schSeedId#
				</isNotEmpty>
				<!-- 검색어  -->
				<isNotEmpty property="schKw">
					<isEqual property="schKey" compareValue="schTitle">
						<![CDATA[ AND B.TITLE LIKE '%' || #schKw# || '%' ]]>
					</isEqual>
					<isEqual property="schKey" compareValue="schContent">
						<![CDATA[ AND B.CONTENT LIKE '%' || #schKw# || '%' ]]>
					</isEqual>
					<isEqual property="schKey" compareValue="cnId">
						<![CDATA[ AND B.OUTBBS_CN IN ( $schKw$ ) ]]>
					</isEqual>												
				</isNotEmpty>				
    </select>

    <!-- 교육메뉴얼 목록을 조회한다 -->
    <select id="MdmEduManualDAO.selectMdmEduManualList" parameterClass="mdmSearchVO" resultClass="mdmPolicyInfoVO">
        <![CDATA[
			SELECT 	
				M.*
  			FROM 
			(
				SELECT 	
					ROWNUM AS RNUM, A.* 
				FROM
				( 
        		SELECT *
        			FROM (
        			SELECT 
        				B.OUTBBS_CN, B.EXTID, B.DOCTYPE, B.SITEID, B.TITLE, REPLACE(REPLACE(B.CDATE, '-', ''), '/', '') AS CDATE
        				, B.REGDATE, B.CUD_CODE, B.URL, B.WRITER
	                    ,B.ISVIEW, B.DUPLICATION, DY.DOCTYPE_NAME AS SITENM, ST.SITENM AS SEEDNM
                        ,( 
                        	SELECT 
                        		COUNT(*) AS CNT 
                        	FROM 
                        		webrobot_contents 
                        	WHERE 
	                			DUPLICATION = B.DUPLICATION 
	                			AND CUD_CODE != 'D'
	                			]]>
								
								<isNotEmpty property="schDtConditionOperators">
								AND (
									<!-- 수집일자 -->
									<isNotEmpty property="schDt1">
										<![CDATA[ ( REGDATE >= REPLACE(#schDt1#, '-', '') || 000000 AND ]]>
									</isNotEmpty>
									<isEmpty property="schDt1">
									    <isNotEmpty property="schDt2">
										( 1=1 AND
										</isNotEmpty>
									</isEmpty>
									    
									<isNotEmpty property="schDt2">
										<![CDATA[ REGDATE <= REPLACE(#schDt2#, '-', '') || 235959 ) ]]>
									</isNotEmpty>
									<isEmpty property="schDt2">
									    <isNotEmpty property="schDt1">
										1=1 )
										</isNotEmpty>
									</isEmpty> 
									
									<isEqual property="schDtConditionOperators" compareValue="Y">
									    OR
									</isEqual>
									
									<!-- 등록일자 -->
									<isNotEmpty property="schDt3">
										<![CDATA[ ( REPLACE(CDATE,'/','') >= REPLACE(#schDt3#, '-', '') || '000000' AND ]]>
									</isNotEmpty>
									<isEmpty property="schDt3">
									    <isNotEmpty property="schDt4">
										( 1=1 AND
										</isNotEmpty>
									</isEmpty>
									
									<isNotEmpty property="schDt4">
										<![CDATA[ REPLACE(CDATE,'/','') <= REPLACE(#schDt4#, '-', '') || '235959' )]]>
									</isNotEmpty>
									<isEmpty property="schDt4">
									    <isNotEmpty property="schDt3">
										1=1 )
										</isNotEmpty>
									</isEmpty>
								)
								</isNotEmpty>
								<![CDATA[
	                	) DUPCNT
					FROM 
	                	webrobot_contents B, OUTDOCTYPE DY, webrobot_site ST
	                WHERE 
	                	B.DOCTYPE = '140'
	                	AND B.DOCTYPE = DY.DOCTYPE(+)
	                	AND B.SITEID = ST.SITEID(+)
               			]]>
               			
               			<isNotEmpty property="schDtConditionOperators">
						AND (
						
						<!-- 수집일자 -->
						<isNotEmpty property="schDt1">
							<![CDATA[ ( B.REGDATE >= REPLACE(#schDt1#, '-', '') || 000000 AND ]]>
						</isNotEmpty>
						<isEmpty property="schDt1">
						    <isNotEmpty property="schDt2">
							( 1=1 AND
							</isNotEmpty>
						</isEmpty>
						    
						<isNotEmpty property="schDt2">
							<![CDATA[ B.REGDATE <= REPLACE(#schDt2#, '-', '') || 235959 ) ]]>
						</isNotEmpty>
						<isEmpty property="schDt2">
						    <isNotEmpty property="schDt1">
							1=1 )
							</isNotEmpty>
						</isEmpty> 
						
						<isEqual property="schDtConditionOperators" compareValue="Y">
						    OR
						</isEqual>
						
						<!-- 등록일자 -->
						<isNotEmpty property="schDt3">
							<![CDATA[ ( REPLACE(B.CDATE,'/','') >= REPLACE(#schDt3#, '-', '') || '000000' AND ]]>
						</isNotEmpty>
						<isEmpty property="schDt3">
						    <isNotEmpty property="schDt4">
							( 1=1 AND
							</isNotEmpty>
						</isEmpty>
						
						<isNotEmpty property="schDt4">
							<![CDATA[ REPLACE(B.CDATE,'/','') <= REPLACE(#schDt4#, '-', '') || '235959' )]]>
						</isNotEmpty>
						<isEmpty property="schDt4">
						    <isNotEmpty property="schDt3">
							1=1 )
							</isNotEmpty>
						</isEmpty>
					)
					</isNotEmpty>
						
						<isNotEmpty prepend="AND" property="cnId">				  
							<![CDATA[ AND B.OUTBBS_CN IN ( $schKw$ ) ]]>
						</isNotEmpty>
						<isNotEmpty prepend="AND" property="schDuplication">	
						<![CDATA[			  				
						B.DUPLICATION IN (															
							SELECT 																		
								DUPLICATION																
							FROM 																		
								webrobot_contents 														
							WHERE																		
					        	DOCTYPE = '140'														
								AND CUD_CODE != 'D'														
					    ]]>																		
								
							<isNotEmpty property="schDtConditionOperators">
							AND (
								
								<!-- 수집일자 -->
								<isNotEmpty property="schDt1">
									<![CDATA[ ( REGDATE >= REPLACE(#schDt1#, '-', '') || 000000 AND ]]>
								</isNotEmpty>
								<isEmpty property="schDt1">
								    <isNotEmpty property="schDt2">
									( 1=1 AND
									</isNotEmpty>
								</isEmpty>
								    
								<isNotEmpty property="schDt2">
									<![CDATA[ REGDATE <= REPLACE(#schDt2#, '-', '') || 235959 ) ]]>
								</isNotEmpty>
								<isEmpty property="schDt2">
								    <isNotEmpty property="schDt1">
									1=1 )
									</isNotEmpty>
								</isEmpty> 
								
								<isEqual property="schDtConditionOperators" compareValue="Y">
								    OR
								</isEqual>
								
								<!-- 등록일자 -->
								<isNotEmpty property="schDt3">
									<![CDATA[ ( REPLACE(CDATE,'/','') >= REPLACE(#schDt3#, '-', '') || '000000' AND ]]>
								</isNotEmpty>
								<isEmpty property="schDt3">
								    <isNotEmpty property="schDt4">
									( 1=1 AND
									</isNotEmpty>
								</isEmpty>
								
								<isNotEmpty property="schDt4">
									<![CDATA[ REPLACE(CDATE,'/','') <= REPLACE(#schDt4#, '-', '') || '235959' )]]>
								</isNotEmpty>
								<isEmpty property="schDt4">
								    <isNotEmpty property="schDt3">
									1=1 )
									</isNotEmpty>
								</isEmpty>
							)
							</isNotEmpty>
							
							GROUP BY																	
								DUPLICATION 															
								<isEqual property="schDuplication" compareValue="Y">					
									<![CDATA[ HAVING COUNT(DUPLICATION) > 1 ]]>							
								</isEqual>																
								<isEqual property="schDuplication" compareValue="N">					
									<![CDATA[ HAVING COUNT(DUPLICATION) < 2 ]]>							
								</isEqual>																
						)	
						</isNotEmpty>
						<isNotEmpty prepend="AND" property="schDocType">				  
						   	<![CDATA[ B.DOCTYPE like '%' || #schDocType# || '%' ]]>
						</isNotEmpty>
						<isNotEmpty prepend="AND" property="schIsView">				  
						    B.ISVIEW = #schIsView#
						</isNotEmpty>
						<isNotEmpty prepend="AND" property="schDel">				  
							<isEqual property="schDel" compareValue="D">
							    B.CUD_CODE = 'D'
							</isEqual>
							<isEqual property="schDel" compareValue="Y">
							    B.CUD_CODE != 'D'
							</isEqual>
						</isNotEmpty>
						<isNotEmpty prepend="AND" property="schRegion">				  
						    B.REGION = #schRegion#
						</isNotEmpty>
						<isNotEmpty prepend="AND" property="schSiteId">
						    B.SITEID = #schSiteId#
						</isNotEmpty>
						<isNotEmpty prepend="AND" property="schSeedId">
						    B.SEEDID = #schSeedId#
						</isNotEmpty>
						<!-- 검색어  -->
						<isNotEmpty property="schKw">
							<isEqual property="schKey" compareValue="schTitle">
								<![CDATA[ AND B.TITLE LIKE '%' || #schKw# || '%' ]]>
							</isEqual>
							<isEqual property="schKey" compareValue="schContent">
								<![CDATA[ AND B.CONTENT LIKE '%' || #schKw# || '%' ]]>
							</isEqual>
							<isEqual property="schKey" compareValue="cnId">
								<![CDATA[ AND B.OUTBBS_CN IN ( $schKw$ ) ]]>
							</isEqual>
						</isNotEmpty>						
					) AA												
					ORDER BY
					<isEmpty property="sort">
						AA.REGDATE DESC
					</isEmpty>
					
					<isNotEmpty property="sort">
					    AA.$sort$
					</isNotEmpty>
				) A 
			) M
		<![CDATA[
			WHERE 
				RNUM > #firstRecord#
				AND RNUM <= #lastRecord#
		]]>
    </select>
    
<!-- 사용안함 -->
    <select id="MdmEduManualDAO.selectMdmEduManualCnvrsListTotCnt" parameterClass="mdmSearchVO" resultClass="int">
        <![CDATA[
			SELECT 
				COUNT(*) AS CNT 
			FROM 
				webrobot_contents B
			WHERE
				B.DOCTYPE = '140'
				]]>
				<isNotEmpty prepend="AND" property="schDt1">				  
					<![CDATA[ REGDATE >= REPLACE(#schDt1#, '-', '') || '000000' ]]>
				</isNotEmpty>
				<isNotEmpty prepend="AND" property="schDt2">				  
					<![CDATA[ REGDATE <= REPLACE(#schDt2#, '-', '') || '999999' ]]>
				</isNotEmpty>
				<isNotEmpty prepend="AND" property="cnId">				  
					<![CDATA[ OUTBBS_CN LIKE #cnId# || '%' ]]>
				</isNotEmpty>
	        	<![CDATA[
				AND B.OUTBBS_CN IN (
					SELECT 
						OUTBBS_CN 
					FROM 
						webrobot_attach 
					WHERE 
						OUTBBS_CN = B.OUTBBS_CN 
						AND CUD_CODE != 'D'
						AND DOC_CNVR_STTU_CODE = #schConversion# 
					GROUP BY 
						OUTBBS_CN
				)
	        	]]>
				<isNotEmpty prepend="AND" property="schOrgCodeStep1">
					B.SITEID IN ( 
						SELECT 
							SITEID 
						FROM 
							webrobot_site 
						WHERE 
							ORG_1 = #schOrgCodeStep1#
							<isNotEmpty prepend="AND" property="schOrgCodeStep2">				  
								ORG_2 = #schOrgCodeStep2#
							</isNotEmpty>
							<isNotEmpty prepend="AND" property="schOrgCodeStep3">				  
								ORG_3 = #schOrgCodeStep3#
							</isNotEmpty>
					)
				</isNotEmpty>
				<isNotEmpty prepend="AND" property="schDocType">				  
				    B.DOCTYPE = #schDocType#
				</isNotEmpty>
				<isNotEmpty prepend="AND" property="schIsView">				  
				    B.ISVIEW = #schIsView#
				</isNotEmpty>
				<isNotEmpty prepend="AND" property="schDel">				  
					<isEqual property="schDel" compareValue="D">
					    B.CUD_CODE = 'D'
					</isEqual>
					<isEqual property="schDel" compareValue="Y">
					    B.CUD_CODE != 'D'
					</isEqual>
				</isNotEmpty>
				<isNotEmpty prepend="AND" property="schRegion">				  
				    B.REGION = #schRegion#
				</isNotEmpty>
				<isNotEqual prepend="AND" property="schSiteId" compareValue="0">
				    B.SITEID = #schSiteId#
				</isNotEqual>
				<isNotEqual prepend="AND" property="schSeedId" compareValue="0">
				    B.SEEDID = #schSeedId#
				</isNotEqual>
				<isNotEmpty prepend="AND" property="schTitle">				  
				    <![CDATA[ B.TITLE LIKE '%' || #schTitle# || '%' ]]>
				</isNotEmpty>
				<isNotEmpty prepend="AND" property="schContent">
					<![CDATA[ B.CONTENT LIKE '%' || #schContent# || '%' ]]>
				</isNotEmpty>
    </select>
<!-- 사용안함 -->
    <select id="MdmEduManualDAO.selectMdmEduManualCnvrsList" parameterClass="mdmSearchVO" resultClass="mdmPolicyInfoVO">
        <![CDATA[
			SELECT 	
				M.*
  			FROM 
			(
				SELECT 	
					ROWNUM AS RNUM, A.* 
				FROM
				( 
        			SELECT 
        				B.OUTBBS_CN, B.EXTID, B.DOCTYPE, B.SITEID, B.TITLE, B.CDATE, B.REGDATE, B.CUD_CODE
	                    ,B.ISVIEW, B.DUPLICATION, DY.DOCTYPE_NAME AS SITENM, ST.SITENM AS SEEDNM, B.URL, B.WRITER
                        ,( SELECT COUNT(*) AS CNT FROM webrobot_attach WHERE OUTBBS_CN = B.OUTBBS_CN AND CUD_CODE != 'D' ) FILECNT 
                        ,( SELECT COUNT(*) AS CNT FROM webrobot_attach WHERE OUTBBS_CN = B.OUTBBS_CN AND (DOC_CNVR_STTU_CODE = '1' OR DOC_CNVR_STTU_CODE = '3') AND CUD_CODE != 'D' ) FILESUCCCNT 
                        ,( SELECT COUNT(*) AS CNT FROM webrobot_attach WHERE OUTBBS_CN = B.OUTBBS_CN AND DOC_CNVR_STTU_CODE = '2' AND CUD_CODE != 'D' ) FILEFLRCNT 
                        ,( 
                        	SELECT 
                        		COUNT(*) AS CNT 
                        	FROM 
                        		webrobot_contents 
                        	WHERE 
	                			DUPLICATION = B.DUPLICATION 
	                			AND CUD_CODE != 'D'
	                			]]>
								<isNotEmpty prepend="AND" property="schDt1">				  
									<![CDATA[ REGDATE >= REPLACE(#schDt1#, '-', '') || '000000' ]]>
								</isNotEmpty>
								<isNotEmpty prepend="AND" property="schDt2">				  
									<![CDATA[ REGDATE <= REPLACE(#schDt2#, '-', '') || '999999' ]]>
								</isNotEmpty>
	                			<![CDATA[
	                	) DUPCNT
					FROM 
	                	webrobot_contents B, OUTDOCTYPE DY, webrobot_site ST
	                WHERE 
	                	B.DOCTYPE = '140'
	                	AND B.DOCTYPE = DY.DOCTYPE(+)
	                	AND B.SITEID = ST.SITEID(+)
						]]>
						<isNotEmpty prepend="AND" property="schDt1">				  
							<![CDATA[ B.REGDATE >= REPLACE(#schDt1#, '-', '') || '000000' ]]>
						</isNotEmpty>
						<isNotEmpty prepend="AND" property="schDt2">				  
							<![CDATA[ B.REGDATE <= REPLACE(#schDt2#, '-', '') || '999999' ]]>
						</isNotEmpty>
						<isNotEmpty prepend="AND" property="cnId">				  
							<![CDATA[ B.OUTBBS_CN LIKE #cnId# || '%' ]]>
						</isNotEmpty>
			        	<![CDATA[
 						AND B.OUTBBS_CN IN (
							SELECT 
								OUTBBS_CN 
							FROM 
								webrobot_attach 
							WHERE 
								OUTBBS_CN = B.OUTBBS_CN 
								AND CUD_CODE != 'D'
								AND DOC_CNVR_STTU_CODE = #schConversion# 
							GROUP BY 
								OUTBBS_CN
						)
			        	]]>
						<isNotEmpty prepend="AND" property="schOrgCodeStep1">	
							B.SITEID IN ( 
								SELECT 
									SITEID 
								FROM 
									webrobot_site 
								WHERE 
									ORG_1 = #schOrgCodeStep1#
									<isNotEmpty prepend="AND" property="schOrgCodeStep2">				  
										ORG_2 = #schOrgCodeStep2#
									</isNotEmpty>
									<isNotEmpty prepend="AND" property="schOrgCodeStep3">				  
										ORG_3 = #schOrgCodeStep3#
									</isNotEmpty>
							)
						</isNotEmpty>
						<isNotEmpty prepend="AND" property="schDocType">				  
						   	<![CDATA[ B.DOCTYPE like '%' || #schDocType# || '%' ]]>
						</isNotEmpty>
						<isNotEmpty prepend="AND" property="schIsView">				  
						    B.ISVIEW = #schIsView#
						</isNotEmpty>
						<isNotEmpty prepend="AND" property="schDel">				  
							<isEqual property="schDel" compareValue="D">
							    B.CUD_CODE = 'D'
							</isEqual>
							<isEqual property="schDel" compareValue="Y">
							    B.CUD_CODE != 'D'
							</isEqual>
						</isNotEmpty>
						<isNotEmpty prepend="AND" property="schRegion">				  
						    B.REGION = #schRegion#
						</isNotEmpty>
						<isNotEqual prepend="AND" property="schSiteId" compareValue="0">
						    B.SITEID = #schSiteId#
						</isNotEqual>
						<isNotEqual prepend="AND" property="schSeedId" compareValue="0">
						    B.SEEDID = #schSeedId#
						</isNotEqual>
						<isNotEmpty prepend="AND" property="schTitle">				  
						    <![CDATA[ B.TITLE like '%' || #schKw# || '%' ]]>
						</isNotEmpty>
						<isNotEmpty prepend="AND" property="schContent">
							<![CDATA[ B.CONTENT LIKE '%' || #schContent# || '%' ]]>
						</isNotEmpty>
					<![CDATA[
					ORDER BY
						B.REGDATE DESC
				) A 
			) M
			WHERE 
				RNUM > #firstRecord#
				AND RNUM <= #lastRecord#
		]]>
    </select>
<!-- 사용안함 -->    
    <select id="MdmEduManualDAO.selectMdmEduManualDplctListTotCnt" parameterClass="mdmSearchVO" resultClass="int">
        <![CDATA[
			SELECT 
				COUNT(*) AS CNT 
			FROM 
				webrobot_contents B
			WHERE
				B.DOCTYPE = '140'
	        	]]>
				<isNotEmpty prepend="AND" property="schDt1">				  
					<![CDATA[ REGDATE >= REPLACE(#schDt1#, '-', '') || '000000' ]]>
				</isNotEmpty>
				<isNotEmpty prepend="AND" property="schDt2">				  
					<![CDATA[ REGDATE <= REPLACE(#schDt2#, '-', '') || '999999' ]]>
				</isNotEmpty>
				<isNotEmpty prepend="AND" property="cnId">				  
					<![CDATA[ OUTBBS_CN LIKE #cnId# || '%' ]]>
				</isNotEmpty>
	        	<![CDATA[
				AND B.DUPLICATION IN (
					SELECT 
						DUPLICATION
					FROM 
						webrobot_contents 
					WHERE
						CUD_CODE != 'D'
					GROUP BY
						DUPLICATION 
					]]>
					<isEqual property="schDuplication" compareValue="Y">
						<![CDATA[ HAVING COUNT(DUPLICATION) > 1 ]]>
					</isEqual>
					<isEqual property="schDuplication" compareValue="N">
						<![CDATA[ HAVING COUNT(DUPLICATION) < 2 ]]>
					</isEqual>
				)
				<isNotEmpty prepend="AND" property="schOrgCodeStep1">
					B.SITEID IN ( 
						SELECT 
							SITEID 
						FROM 
							webrobot_site 
						WHERE 
							ORG_1 = #schOrgCodeStep1#
							<isNotEmpty prepend="AND" property="schOrgCodeStep2">				  
								ORG_2 = #schOrgCodeStep2#
							</isNotEmpty>
							<isNotEmpty prepend="AND" property="schOrgCodeStep3">				  
								ORG_3 = #schOrgCodeStep3#
							</isNotEmpty>
					)
				</isNotEmpty>
				<isNotEmpty prepend="AND" property="schDocType">			  
				    B.DOCTYPE = #schDocType#
				</isNotEmpty>
				<isNotEmpty prepend="AND" property="schIsView">				  
				    B.ISVIEW = #schIsView#
				</isNotEmpty>
				<isNotEmpty prepend="AND" property="schDel">				  
					<isEqual property="schDel" compareValue="D">
					    B.CUD_CODE = 'D'
					</isEqual>
					<isEqual property="schDel" compareValue="Y">
					    B.CUD_CODE != 'D'
					</isEqual>
				</isNotEmpty>
				<isNotEmpty prepend="AND" property="schRegion">				  
				    B.REGION = #schRegion#
				</isNotEmpty>
				<isNotEqual prepend="AND" property="schSiteId" compareValue="0">
				    B.SITEID = #schSiteId#
				</isNotEqual>
				<isNotEqual prepend="AND" property="schSeedId" compareValue="0">
				    B.SEEDID = #schSeedId#
				</isNotEqual>
				<isNotEmpty prepend="AND" property="schTitle">
				    <![CDATA[ B.TITLE LIKE '%' || #schTitle# || '%' ]]>
				</isNotEmpty>
				<isNotEmpty prepend="AND" property="schContent">
					<![CDATA[ B.CONTENT LIKE '%' || #schContent# || '%' ]]>
				</isNotEmpty>
    </select>
<!-- 사용안함 -->
    <select id="MdmEduManualDAO.selectMdmEduManualDplctList" parameterClass="mdmSearchVO" resultClass="mdmPolicyInfoVO">
        <![CDATA[
			SELECT 	
				M.*
  			FROM 
			(
				SELECT 	
					ROWNUM AS RNUM, A.* 
				FROM
				( 
        			SELECT 
        				B.OUTBBS_CN, B.EXTID, B.DOCTYPE, B.SITEID, B.TITLE, B.CDATE, B.REGDATE, B.CUD_CODE
	                    ,B.ISVIEW, B.DUPLICATION, DY.DOCTYPE_NAME AS SITENM, ST.SITENM AS SEEDNM
                        ,( SELECT COUNT(*) AS CNT FROM webrobot_attach WHERE OUTBBS_CN = B.OUTBBS_CN AND CUD_CODE != 'D' ) FILECNT 
                        ,( SELECT COUNT(*) AS CNT FROM webrobot_attach WHERE OUTBBS_CN = B.OUTBBS_CN AND (DOC_CNVR_STTU_CODE = '1' OR DOC_CNVR_STTU_CODE = '3') AND CUD_CODE != 'D' ) FILESUCCCNT 
                        ,( SELECT COUNT(*) AS CNT FROM webrobot_attach WHERE OUTBBS_CN = B.OUTBBS_CN AND DOC_CNVR_STTU_CODE = '2' AND CUD_CODE != 'D' ) FILEFLRCNT 
                        ,( 
                        	SELECT 
                        		COUNT(*) AS CNT 
                        	FROM 
                        		webrobot_contents 
                        	WHERE 
	                			DUPLICATION = B.DUPLICATION 
	                			AND CUD_CODE != 'D'
	                			]]>
								<isNotEmpty prepend="AND" property="schDt1">				  
									<![CDATA[ REGDATE >= REPLACE(#schDt1#, '-', '') || '000000' ]]>
								</isNotEmpty>
								<isNotEmpty prepend="AND" property="schDt2">				  
									<![CDATA[ REGDATE <= REPLACE(#schDt2#, '-', '') || '999999' ]]>
								</isNotEmpty>
	                			<![CDATA[
	                			
	                	) DUPCNT
					FROM 
	                	webrobot_contents B, OUTDOCTYPE DY, webrobot_site ST
	                WHERE 
	                	B.DOCTYPE = '140'
	                	]]>
						<isNotEmpty prepend="AND" property="schDt1">				  
							<![CDATA[ B.REGDATE >= REPLACE(#schDt1#, '-', '') || '000000' ]]>
						</isNotEmpty>
						<isNotEmpty prepend="AND" property="schDt2">				  
							<![CDATA[ B.REGDATE <= REPLACE(#schDt2#, '-', '') || '999999' ]]>
						</isNotEmpty>
						<isNotEmpty prepend="AND" property="cnId">				  
							<![CDATA[ B.OUTBBS_CN LIKE #cnId# || '%' ]]>
						</isNotEmpty>
						<![CDATA[
	                	AND B.DOCTYPE = DY.DOCTYPE(+)
	                	AND B.SITEID = ST.SITEID(+)
 						AND B.DUPLICATION IN (
							SELECT 
								DUPLICATION
							FROM 
								webrobot_contents 
							WHERE
			                	DOCTYPE = '140'
								AND CUD_CODE != 'D'
			                	]]>
								<isNotEmpty prepend="AND" property="schDt1">				  
									<![CDATA[ REGDATE >= REPLACE(#schDt1#, '-', '') || '000000' ]]>
								</isNotEmpty>
								<isNotEmpty prepend="AND" property="schDt2">				  
									<![CDATA[ REGDATE <= REPLACE(#schDt2#, '-', '') || '999999' ]]>
								</isNotEmpty>
			                	<![CDATA[
							GROUP BY
								DUPLICATION 
							]]>
							<isEqual property="schDuplication" compareValue="Y">
								<![CDATA[ HAVING COUNT(DUPLICATION) > 1 ]]>
							</isEqual>
							<isEqual property="schDuplication" compareValue="N">
								<![CDATA[ HAVING COUNT(DUPLICATION) < 2 ]]>
							</isEqual>
						)
						<isNotEmpty prepend="AND" property="schOrgCodeStep1">	
							B.SITEID IN ( 
								SELECT 
									SITEID 
								FROM 
									webrobot_site 
								WHERE 
									ORG_1 = #schOrgCodeStep1#
									<isNotEmpty prepend="AND" property="schOrgCodeStep2">				  
										ORG_2 = #schOrgCodeStep2#
									</isNotEmpty>
									<isNotEmpty prepend="AND" property="schOrgCodeStep3">				  
										ORG_3 = #schOrgCodeStep3#
									</isNotEmpty>
							)
						</isNotEmpty>
						<isNotEmpty prepend="AND" property="schDocType">				  
						   	<![CDATA[ B.DOCTYPE like '%' || #schDocType# || '%' ]]>
						</isNotEmpty>
						<isNotEmpty prepend="AND" property="schIsView">				  
						    B.ISVIEW = #schIsView#
						</isNotEmpty>
						<isNotEmpty prepend="AND" property="schDel">				  
							<isEqual property="schDel" compareValue="D">
							    B.CUD_CODE = 'D'
							</isEqual>
							<isEqual property="schDel" compareValue="Y">
							    B.CUD_CODE != 'D'
							</isEqual>
						</isNotEmpty>
						<isNotEmpty prepend="AND" property="schRegion">				  
						    B.REGION = #schRegion#
						</isNotEmpty>
						<isNotEqual prepend="AND" property="schSiteId" compareValue="0">
						    B.SITEID = #schSiteId#
						</isNotEqual>
						<isNotEqual prepend="AND" property="schSeedId" compareValue="0">
						    B.SEEDID = #schSeedId#
						</isNotEqual>
						<isNotEmpty prepend="AND" property="schTitle">				  
						    <![CDATA[ B.TITLE like '%' || #schKw# || '%' ]]>
						</isNotEmpty>
						<isNotEmpty prepend="AND" property="schContent">
							<![CDATA[ B.CONTENT LIKE '%' || #schContent# || '%' ]]>
						</isNotEmpty>
					<![CDATA[
					ORDER BY
						B.REGDATE DESC
				) A 
			) M
			WHERE 
				RNUM > #firstRecord#
				AND RNUM <= #lastRecord#
		]]>
    </select>

    <!-- 교육메뉴얼 상세정보를 조회한다 -->
	<select id="MdmEduManualDAO.selectMdmEduManualView" parameterClass="string" resultClass="mdmPolicyInfoVO">
        <![CDATA[
			SELECT 
				A.OUTBBS_CN
				,A.EXTID
				,A.TITLE
				,A.DOCTYPE
				,B.ORG_1
				,B.ORG_2
				,B.ORG_3
				,D.ORGNM AS ORG_1NM
				,E.ORGNM AS ORG_2NM
				,F.ORGNM AS ORG_3NM				
				,NVL(B.SITEID,0) AS SITEID
				,B.SITENM
				,B.SITEURL
				,NVL(C.SEEDID,0) AS SEEDID
				,C.SEEDNM
				,C.SEEDURL
				,REPLACE(A.CDATE,'-','') AS CDATE
				,A.WRITER
				,REPLACE(REPLACE(A.EXTRACTHTML,chr(13)),chr(10)) AS EXTRACTHTML
				,A.CONTENT
				,A.DUPLICATION
				,A.ISVIEW
				,A.REGDATE
				,A.UPDT
				,REPLACE(REPLACE(A.DELDT, '-', ''), '/', '') AS DELDT
				,A.REGION
				,(SELECT 
					COUNT(webrobot_contents.DUPLICATION)
				FROM webrobot_contents 
				WHERE A.OUTBBS_CN = '$OUTBBS_CN$'
				AND A.DUPLICATION = webrobot_contents.DUPLICATION) AS DUPCNT
				,A.URL
				,A.LAST_UPDUSR_ID
			FROM 
				webrobot_contents A
				,webrobot_site B
				,webrobot_seed C
				,OUTORGCODESTEP1 D
				,OUTORGCODESTEP2 E
				,OUTORGCODESTEP3 F				
			WHERE 
				A.OUTBBS_CN = '$OUTBBS_CN$'
				AND A.SITEID = B.SITEID
				AND A.SEEDID = C.SEEDID(+)
				AND B.ORG_1 = D.ORGCODE
				AND B.ORG_2 = E.ORGCODE
				AND B.ORG_3 = F.ORGCODE(+)	
		]]>
    </select>
    
    <select id="MdmEduManualDAO.selectMdmEduManualFileList" parameterClass="string" resultClass="mdmPolicyInfoFileVO">
        <![CDATA[
			SELECT 
				DOWNID
				,REGDATE
				,DOWNURL
				,EXTID
				,DOWNPURL
				,REPLACE(DOWNPATH, '\', '/') AS DOWNPATH
				,SEEDID
				,DOWNTYPE
				,DUPLICATION
				,DOC_CNVR_STTU_CODE
				,DOC_CNVR_RESULT_MSSAGE
				,DOC_CNVR_PDF_PATH
				,OUTBBS_PDF_FILE_NM
				,CASE WHEN INSTR(DOWNPATH, '.', -1) > 1 THEN LOWER(SUBSTR(DOWNPATH, (INSTR(DOWNPATH, '.', -1) + 1)))
					  ELSE ''
				END FILEEXT
			FROM 
				webrobot_attach
			WHERE 
				OUTBBS_CN = '$OUTBBS_CN$'
				AND CUD_CODE != 'D'
		]]>
    </select>
 
    <select id="MdmEduManualDAO.selectMdmEduManualFileListCmmn" parameterClass="string" resultMap="outbbsFileCmmn">
        <![CDATA[
			SELECT 
				DOWNID
				,CASE 
					WHEN INSTR(DOWNPATH, '\', -1) > 1 THEN SUBSTR(DOWNPATH, (INSTR(DOWNPATH, '\', -1) + 1))
					ELSE ''
				END FILE_NM
				,DOWNPATH
				,DOC_CNVR_PDF_PATH
				,DOC_CNVR_STTU_CODE
				,DOC_CNVR_RESULT_MSSAGE 
				,OUTBBS_PDF_FILE_NM
				,CASE WHEN INSTR(DOWNPATH, '.', -1) > 1 THEN LOWER(SUBSTR(DOWNPATH, (INSTR(DOWNPATH, '.', -1) + 1)))
					ELSE ''
				END FILEEXT
			FROM 
				webrobot_attach 
			WHERE 
				OUTBBS_CN = #OUTBBS_CN#
				AND CUD_CODE != 'D'
			ORDER BY 
				DOWNID ASC
        ]]>
    </select>
 
    <select id="MdmEduManualDAO.selectMdmEduManualListCmmn" parameterClass="string" resultClass="mdmPolicyInfoVO">
        <![CDATA[
			SELECT 
				OUTBBS_CN, SEEDNM, SITENM, TITLE, CDATE, WRITER
			FROM 
				webrobot_contents 
			WHERE 
				DUPLICATION = #DUPLICATION#
				AND CUD_CODE != 'D'
			ORDER BY 
				REGDATE ASC
        ]]>
    </select>

    <select id="MdmEduManualDAO.selectMdmOutSite" parameterClass="String" resultClass="string">
        <![CDATA[
			SELECT 
				SITENM
			FROM 
				webrobot_site 
			WHERE
				SITEID = #SITEID#
				AND ROWNUM = 1
		]]>
    </select>

    <select id="MdmEduManualDAO.selectMdmOutSiteList" parameterClass="string" resultClass="mdmOutSiteVO">
        <![CDATA[
			SELECT 
				SITEID, SITENM
			FROM 
				webrobot_site 
			WHERE
				REGION = #REGION#
			ORDER BY 
				SITENM ASC
		]]>
    </select>

    <select id="MdmEduManualDAO.selectMdmOutSeed" parameterClass="String" resultClass="string">
        <![CDATA[
			SELECT 
				SEEDNM
			FROM 
				webrobot_seed 
			WHERE
				SEEDID = #SEEDID#
				AND ROWNUM = 1
		]]>
    </select>

    <select id="MdmEduManualDAO.selectMdmOutSeedList" parameterClass="string" resultClass="mdmOutSeedVO">
        <![CDATA[
			SELECT 
				SEEDID, SEEDNM
			FROM 
				webrobot_seed 
			WHERE
				REGION = #REGION#
			ORDER BY 
				SEEDNM ASC
		]]>
    </select>

    <select id="MdmEduManualDAO.selectMdmOutDocTypeList" resultClass="mdmOutDocTypeVO">
        <![CDATA[
			SELECT 
				DOCTYPE, DOCTYPE_NAME
			FROM 
				OUTDOCTYPE 
			ORDER BY 
				DOCTYPE ASC
		]]>
	</select>

   	<select id="MdmEduManualDAO.selectMdmEduManualFileDownPath" parameterClass="string" resultClass="string">
        <![CDATA[
			SELECT 
				TRIM(DOWNPATH) AS DOWNPATH
			FROM 
				webrobot_attach 
			WHERE 
				DOWNID = '$DOWNID$'
				AND ROWNUM = 1
		]]>
    </select>
    
    <update id="MdmEduManualDAO.deleteMdmEduManualFile" parameterClass="string">
		<![CDATA[
			UPDATE 
				webrobot_attach
			SET
				CUD_CODE = 'D'
			WHERE 
				DOWNID = '$DOWNID$'
		]]>
	</update>

    <update id="MdmEduManualDAO.updateMdmEduManualFileListReCnvrs" parameterClass="string">
        <![CDATA[
			UPDATE 
				webrobot_attach 
			SET
				DOC_CNVR_STTU_CODE = '0'
			WHERE 
				DOWNID = #DOWNID#
		]]>
    </update>

    <update id="MdmEduManualDAO.updateMdmEduManualIsView" parameterClass="mdmIsViewVO">
        <![CDATA[
			UPDATE 
				webrobot_contents
			SET
				ISVIEW = #isview#
				,UPDT = TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS')
			WHERE 
				OUTBBS_CN = #uid#
		]]>
    </update>

    <update id="MdmEduManualDAO.deleteMdmEduManualChk" parameterClass="mdmIsViewVO">
        <![CDATA[
			UPDATE 
				webrobot_contents 
			SET
				CUD_CODE 		= #isview#
				,DELDT 			= TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS')
				,LAST_UPDUSR_ID = #LAST_UPDUSR_ID#
			WHERE 
				OUTBBS_CN = #uid#
		]]>
    </update>

    <update id="MdmEduManualDAO.deleteMdmEduManual" parameterClass="string">
        <![CDATA[
			UPDATE 
				webrobot_contents 
			SET
				CUD_CODE = 'D'
				,DELDT = TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS')
			WHERE 
				OUTBBS_CN = #OUTBBS_CN#
		]]>
    </update>

    <insert id="MdmEduManualDAO.insertMdmEduManual" parameterClass="mdmPolicyInfoVO">
        <![CDATA[
			INSERT 
				INTO 
			webrobot_contents (
				OUTBBS_CN
				,EXTID
				,REGDATE
				,SEEDID
				,SITEID
				,SEEDNM
				,SITENM
				,TITLE
				,CONTENT
				,RASMBLY_ID
				,DURING
				,CMIT
				,URL
				,CDATE
				,WRITER
				,SERIES
				,DUPLICATION
				,DUPTITLE
				,DUPCONTENT
				,DUPFILE
				,REGION
				,DOCTYPE
				,CATEGORYID
				,UPDT
				,DELDT
				,SEEDURL
				,CUD_CODE
				,AUTO
				,ATTACHCNT
				,CKCOUNT
				,ISVIEW
			) VALUES (
				#EXTID#
				,#EXTID#
				,#REGDATE#
				,#SEEDID#
				,#SITEID#
				,#SEEDNM#
				,#SITENM#
				,#TITLE#
				,#CONTENT:CLOB#
				,#RASMBLY_ID#
				,#DURING#
				,#CMIT#
				,#URL#
				,#CDATE#
				,#WRITER#
				,#SERIES#
				,#DUPLICATION#
				,#DUPTITLE#
				,#DUPCONTENT#
				,#DUPFILE#
				,#REGION#
				,#DOCTYPE#
				,#CATEGORYID#
				,#UPDT#
				,#DELDT#
				,#SEEDURL#
				,'C'
				,'1'
				,#ATTACHCNT#
				,'0'
				,'Y'
			)
		]]>
    </insert>

    <insert id="MdmEduManualDAO.insertMdmEduManualFile" parameterClass="mdmPolicyInfoFileVO">
        <![CDATA[
			INSERT 
				INTO 
			webrobot_attach (
				DOWNID
				,REGDATE
				,DOWNURL
				,EXTID
				,DOWNPURL
				,DOWNPATH
				,SEEDID
				,DOWNTYPE
				,DUPLICATION
				,CUD_CODE
				,OUTBBS_CN
			) VALUES (
				#DOWNID#
				,#REGDATE#
				,#DOWNURL#
				,#EXTID#
				,#DOWNPURL#
				,#DOWNPATH#
				,#SEEDID#
				,#DOWNTYPE#
				,#DUPLICATION#
				,'C'
				,#OUTBBS_CN#
			)
		]]>
    </insert>

    <update id="MdmEduManualDAO.updateMdmEduManual" parameterClass="mdmPolicyInfoVO">
        <![CDATA[
			UPDATE 
				webrobot_contents
			SET
				SEEDID = #SEEDID#
				,SITEID = #SITEID#
				,SEEDNM = #SEEDNM#
				,SITENM = #SITENM#
				,TITLE = #TITLE#
				,CONTENT = #CONTENT:CLOB#
				,WRITER = #WRITER#
				,REGION = #REGION#
				,DOCTYPE = #DOCTYPE#
				,CATEGORYID = #CATEGORYID#
				,UPDT = #UPDT#
				,CUD_CODE = 'U'
				,ATTACHCNT = #ATTACHCNT#
			WHERE
				OUTBBS_CN = #OUTBBS_CN#
		]]>
    </update>

</sqlMap>
